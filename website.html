<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>For Aya:3</title>
  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400..900&family=Indie+Flower&family=Shadows+Into+Light&display=swap" rel="stylesheet">
  <style>
    body {
      background-color: #fffdd0;
      font-family: 'Shadows Into Light', cursive;
      text-align: center;
      color: #ff69b4;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    .container {
      position: relative;
      width: 100vw;
      height: 100vh;
    }
    .page {
      display: none;
      width: 100%;
      height: 100%;
      position: absolute;
      top: 0;
      left: 0;
      padding-top: 5vh;
      box-sizing: border-box;
    }
    .active {
      display: block;
    }
    h1 {
      margin: 20px;
      font-size: 2.5em;
    }
    /* Make the last page heading less bulky */
    #page6 h1 {
      font-size: 1.5em;
      line-height: 1.4;
      max-width: 90%;
      margin: 20px auto;
    }
    button {
      font-family: 'Indie Flower', cursive;
      font-size: 1.5em;
      padding: 10px 20px;
      margin: 15px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      background-color: #ffb6c1;
      color: white;
      transition: background-color 0.3s ease;
      position: relative;
      overflow: hidden;
    }
    button:hover {
      background-color: #ff69b4;
    }
    .gif {
      max-width: 80%;
      height: auto;
      border-radius: 10px;
      margin: 20px auto;
    }
    .floating-hearts {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9999;
    }
    .heart {
      position: absolute;
      color: #ff69b4;
      font-size: 2em;
      animation: float 6s ease-in-out infinite;
      opacity: 0.8;
    }
    @keyframes float {
      0% {
        transform: translateY(0) scale(0.8);
        opacity: 0.8;
      }
      50% {
        transform: translateY(-20px) scale(1);
        opacity: 1;
      }
      100% {
        transform: translateY(-40px) scale(0.8);
        opacity: 0.8;
      }
    }
    #musicButton {
      font-family: 'Cinzel', 'Indie Flower', 'Shadows Into Light', cursive;
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 10000;
      font-size: 1em;
      padding: 5px 10px;
    }
    /* Flex container for the last page to position the gif and button side by side */
    .last-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 5px; /* Reduced gap so the button is right beside the gif */
    }
  </style>
</head>
<body>
  <button id="musicButton">ðŸŽ§ Play Music</button>
  
  <audio id="bg-music" loop>
    <source src="moonstruck.mp3" type="audio/mpeg">
  </audio>

  <div class="floating-hearts">
    <span class="heart" style="top: 10%; left: 10%; animation-delay: 0s;">&#10084;</span>
    <span class="heart" style="top: 20%; left: 30%; animation-delay: 1s;">&#10084;</span>
    <span class="heart" style="top: 30%; left: 50%; animation-delay: 2s;">&#10084;</span>
    <span class="heart" style="top: 40%; left: 70%; animation-delay: 3s;">&#10084;</span>
    <span class="heart" style="top: 50%; left: 90%; animation-delay: 4s;">&#10084;</span>
  </div>

  <div class="container">
    <!-- Page 1 -->
    <div id="page1" class="page active">
      <h1>Will you stay with me forever?</h1>
      <img src="https://aniyuki.com/wp-content/uploads/2022/06/anime-hugs-aniyuki-14.gif" alt="Cute Gif" class="gif">
      <br>
      <button id="yes1">Yes</button>
      <button id="no1">No</button>
    </div>
    <!-- Page 2 -->
    <div id="page2" class="page">
      <h1>You will always be my Aya, right?</h1>
      <img src="https://kindyou.com/wp-content/uploads/2018/10/Super-Cute-Anime-Love-Gifs-6.gif" alt="Cute Gif" class="gif">
      <br>
      <button id="yes2">Yes</button>
      <button id="no2">No</button>
    </div>
    <!-- Page 3 -->
    <div id="page3" class="page">
      <h1>I will always love you no matter what</h1>
      <img src="https://image.myanimelist.net/ui/7TVWLJ4cRvwHjFyWCI7sZ3vMgWdxxWuW9iYJe2BMw_mx_trdvd9NHa7UmP_Y42aZljjr40BOeIfaROnbuPkFXzJjQn-MuHieUcIZuBIueGPy-zI-aTnjcOn7VkvKXtbD" alt="Cute Gif" class="gif">
      <br>
      <!-- The Aww button with continuous auto text toggle -->
      <button id="aww">Awww (/Ï‰\)</button>
    </div>
    <!-- Page 4 -->
    <div id="page4" class="page">
      <h1>Make sure you have enough meal everyday Ëƒâ¤™Ë‚</h1>
      <img src="https://giffiles.alphacoders.com/221/221854.gif" alt="Blushing Gif" class="gif">
      <br>
      <button id="okay">Hmph! Okay</button>
    </div>
    <!-- Page 5 -->
    <div id="page5" class="page">
      <h1>I'll always be dependent on you as well !!</h1>
      <img src="https://i.pinimg.com/originals/99/aa/29/99aa29afc9ce5e72263bea38fd62fd64.gif" alt="Blushing Gif" class="gif">
      <br>
      <button id="cute">Cutee!!</button>
    </div>
    <!-- Page 6 -->
    <div id="page6" class="page">
      <h1>You're the sweetest person i've ever known. I'll be always there for you no matter what I just care for you way too much ^^ you're the person i can count on you forever as well also as said we are gonna spend eterntity together XD. i'll always care for you. you're the person i'll always need you no matter what. I'm just being selfish ehe but yeah its true i just love you and your company way too much. I always miss you as well when you are not there thats why i dont wanna go to sleep early XD so that we can spend more time together. you're the best. you're my Baby Aya ^-^. i'll always have the most special place in my heart for you. whenever you are lonely you can always remember me. I'll always hold you close to my heart. I'll cheer you up when you are sad or having a bad day. In your good in your bad always together forever. i'll always hold your hand as well hehe â™¡ </h1>
      <div class="last-container">
        <img src="https://i.giphy.com/bMLGNRoAy0Yko.webp" alt="Blushing Gif" class="gif">
        <button id="sweet">Sweet</button>
      </div>
    </div>
  </div>

  <script>
    // Global variable to hold the interval for toggling the Aww button text
    let awwInterval = null;

    // Page switching logic
    function showPage(pageId) {
      const pages = document.querySelectorAll('.page');
      pages.forEach(page => page.classList.remove('active'));
      document.getElementById(pageId).classList.add('active');

      // If leaving page3, clear the toggle interval.
      if (pageId !== 'page3' && awwInterval !== null) {
        clearInterval(awwInterval);
        awwInterval = null;
      }

      // If page 3 is active, set up continuous text toggle for the Aww button.
      if (pageId === 'page3') {
        const awwBtn = document.getElementById('aww');
        awwBtn.innerHTML = 'Awww (/Ï‰\\)';
        let toggleState = false;
        if (awwInterval !== null) {
          clearInterval(awwInterval);
        }
        awwInterval = setInterval(() => {
          toggleState = !toggleState;
          awwBtn.innerHTML = toggleState ? 'Awww (/>Ï‰<\\)' : 'Awww (/Ï‰\\)';
        }, 500);
      }
    }

    // Add click listener to the Aww button so that it advances to page4 when pressed.
    document.getElementById('aww').addEventListener('click', () => {
      if (awwInterval !== null) {
        clearInterval(awwInterval);
        awwInterval = null;
      }
      showPage('page4');
    });

    // Button dodge effect
    function dodgeButton(btn) {
      const container = document.querySelector('.container');
      const containerWidth = container.offsetWidth;
      const containerHeight = container.offsetHeight;
      const btnWidth = btn.offsetWidth;
      const btnHeight = btn.offsetHeight;
      const randomX = Math.floor(Math.random() * (containerWidth - btnWidth));
      const randomY = Math.floor(Math.random() * (containerHeight - btnHeight));
      btn.style.position = 'absolute';
      btn.style.left = randomX + 'px';
      btn.style.top = randomY + 'px';
    }

    // Page 1 logic
    document.getElementById('yes1').addEventListener('click', () => {
      showPage('page2');
    });
    const no1 = document.getElementById('no1');
    no1.addEventListener('mouseover', () => {
      dodgeButton(no1);
    });

    // Page 2 logic
    document.getElementById('yes2').addEventListener('click', () => {
      showPage('page3');
    });
    const no2 = document.getElementById('no2');
    no2.addEventListener('mouseover', () => {
      dodgeButton(no2);
    });

    // Page 4 logic
    document.getElementById('okay').addEventListener('click', () => {
      showPage('page5');
    });

    // Page 5 logic
    document.getElementById('cute').addEventListener('click', () => {
      showPage('page6');
    });

    // Page 6 logic: IP prompt and storage
    document.getElementById('sweet').addEventListener('click', promptForIP);
    function promptForIP() {
      var ip = prompt("if you are happy please enter your ip ;)");
      if (ip !== null && ip.trim() !== "") {
        fetch('store_ip.php', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json'
          },
          body: JSON.stringify({ ip: ip.trim() })
        })
        .then(response => response.text())
        .then(data => console.log("Server response:", data))
        .catch(error => console.error('Error:', error));
      }
    }

    // Music control logic
    const audio = document.getElementById('bg-music');
    const musicButton = document.getElementById('musicButton');
    musicButton.addEventListener('click', () => {
      audio.play().then(() => {
        musicButton.textContent = 'ðŸŽµ Music Playing';
        setTimeout(() => musicButton.style.display = 'none', 2000);
      }).catch(error => {
        console.error('Audio playback failed:', error);
        alert('Error playing music. Please check the file path!');
      });
    });
    document.querySelectorAll('button').forEach(button => {
      button.addEventListener('click', () => {
        if (audio.paused) {
          audio.play().catch(err => console.error('Auto-play error:', err));
        }
      });
    });
  </script>
</body>
</html>
